<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript">
var road = "171.7389451,6.9594613 171.7380037,6.9598219 171.7349209,6.9612427 171.7343318,6.9613629 171.7328628,6.9621454 171.7324912,6.9625894 171.7314728,6.9632042 171.7296355,6.9639077 171.7272546,6.9650689 171.726532,6.965588 171.7258439,6.9658954 171.7252728,6.9663667 171.724859900000013,6.9665238 171.7244952,6.9665238 171.724137399999989,6.9666467 171.723903400000012,6.9671932 171.7236763,6.9675962 171.7230913,6.968047 171.7194787,6.9707245 171.7176001,6.9718515 171.716162,6.9725346 171.7144898,6.973402 171.7129415,6.9740031 171.7116685,6.9746793 171.710705100000013,6.9751984 171.7094596,6.9760044 171.70917750000001,6.9761 171.708255400000013,6.9764484 171.7070029,6.9772885 171.705613,6.978074 171.7040509,6.9791668 171.7029843,6.9802392 171.701608,6.9815711 171.699396,6.9836675 171.6982569,6.9847471 171.697149,6.9862976 171.6962269,6.9878959 171.695297900000014,6.989296 171.6948094,6.9899039 171.6943621,6.9902113 171.6934606,6.9905801 171.6925454,6.9909216 171.6913481,6.9913929 171.6902538,6.9916251 171.6891666,6.9916046 171.6883272,6.9914544 171.6864761,6.9913109 171.6854372,6.9913082 171.6842757,6.9917453 171.6826242,6.992472 171.6820131,6.992849 171.6799157,6.9943298 171.6794313,6.9951549 171.6763264,6.9979306 171.675341,6.9994715 171.6748125,7.0004604 171.6740584,7.0012746 171.6727702,7.002269 171.670436,7.003788 171.668757,7.0047278 171.6673477,7.0052742 171.6666266,7.0054818 171.6655696,7.005602 171.6650962,7.0056129 171.6645897,7.0057168 171.6636153,7.0057058 171.6633401,7.0056621 171.662409700000012,7.0056457 171.661617,7.0055692 171.6610742,7.0056065 171.659181100000012,7.0056048 171.6569723,7.0055104 171.655684400000013,7.0053723 171.6539795,7.0052113 171.6529282,7.0050854 171.652147500000012,7.0048504 171.6517867,7.0048476 171.6514569,7.0048085 171.6510341,7.0047917 171.6504309,7.0046378 171.650188500000013,7.0045959 171.6489709,7.0041622 171.6487032,7.0040895 171.648085900000012,7.0038237 171.6478238,7.0036475 171.64664,7.00306 171.64647930000001,7.0029537 171.6461325,7.0026767 171.6457408,7.0023998 171.6454252,7.0020976 171.6448361,7.0013731 171.6435617,6.999693 171.6419594,6.9983283 171.6399336,6.997995 171.6392179,6.9980988 171.6374935,6.9979928 171.6349639,6.997734 171.6322193,6.9975837 171.630578,6.9973703 171.6300508,6.997222 171.62975,6.9970317 171.629171500000012,6.9968079 171.6287826,6.9966765 171.628278,6.9964359 171.6276551,6.9960694 171.6272042,6.9958624 171.6268631,6.9958428 171.6265108,6.9957477 171.6262318,6.995619 171.6259667,6.995398 171.6255581,6.9951937 171.6252565,6.995093 171.624861900000013,6.9950483 171.6243349,6.994844 171.6232848,6.9943003 171.6225253,6.9940708 171.6212921,6.9939506 171.619337800000011,6.9939833 171.6185726,6.994027 171.6159192,6.9940325 171.61340340000001,6.9941418 171.6117765,6.9941137 171.6102712,6.9945833 171.6085079,6.995309 171.607766,6.9955011 171.6020245,6.9992256 171.6007234,6.9999086 171.5995623,7.0004635 171.5982075,7.0011572 171.5947454,7.0033449 171.59330460000001,7.0044334 171.5909177,7.007048 171.5879716,7.012213 171.5870469,7.013483 171.5858642,7.0146888 171.5846814,7.0161935 171.5838858,7.0178369 171.5833266,7.0198218 171.5827246,7.0219988 171.5815634,7.0252642 171.580230199999988,7.0281881 171.5792087,7.0301836 171.5778862,7.0327554 171.5758971,7.0360634 171.573779,7.0395208 171.57346720000001,7.0398836 171.5724242,7.0418044 171.5720567,7.0425872 171.571853,7.0431226 171.57172,7.0432442 171.5699612,7.0446261 171.5688027,7.0457002 171.568194,7.0463688 171.5677825,7.0469115 171.5674865,7.0473422 171.567371,7.0476164 171.5672836,7.0479968 171.5671117,7.0482458 171.5661082,7.0493787 171.5659899,7.0494038 171.5658377,7.0494234 171.5656009,7.0495353 171.565068200000013,7.0499325 171.5646482,7.0502011 171.5640281,7.0506738 171.562734400000011,7.0515661 171.5617947,7.0522116 171.5610405,7.052747 171.5606881,7.0530366 171.560115700000011,7.053643 171.5592569,7.0544898 171.5589449,7.0548661 171.5584641,7.0554459 171.5578366,7.0563638 171.557467699999989,7.0569483 171.5570218,7.0577296 171.5564273,7.0589315 171.5556841,7.0606525 171.5553593,7.061614 171.5551102,7.0623065 171.5547317,7.0635972 171.554401399999989,7.0649247 171.5541328,7.0659506 171.553895,7.0668587 171.5532124,7.0695138 171.553065,7.0700908 171.552805,7.0711091 171.5527224,7.0721853 171.5527059,7.0728573 171.552827,7.0731413 171.5528876,7.0738133 171.5529756,7.0754359 171.5532619,7.077479 171.5536252,7.0794785 171.5541097,7.0801997 171.554291299999988,7.0810847 171.554522600000013,7.0815381 171.5549739,7.0821008";
var island = "171.7579553,6.964602 171.7582514,6.9641842 171.758368100000013,6.9638652 171.758251300000012,6.9628241 171.7577973,6.9605972 171.757566200000014,6.9589275 171.757098,6.9578296 171.7565253,6.9573333 171.7550608,6.9569115 171.7537565,6.9567709 171.7533468,6.9569742 171.7517255,6.9568431 171.7508775,6.9568433 171.7496621,6.9571041 171.747597899999988,6.9568496 171.746372,6.9571909 171.745683500000013,6.9574248 171.744902200000013,6.95758 171.7442452,6.9576282 171.7437296,6.9578868 171.7398117,6.9583647 171.7384023,6.9583459 171.7373173,6.9587546 171.7363039,6.9593154 171.7352191,6.9598341 171.734703700000011,6.9602209 171.7330277,6.9611264 171.7313524,6.9619023 171.7304672,6.9624565 171.7292902,6.963065 171.7277427,6.9633253 171.7269695,6.963842 171.7259381,6.9642308 171.7254231,6.9648756 171.7246495,6.9651346 171.7242628,6.9655222 171.7240864,6.9660748 171.7230208,6.96684 171.7220964,6.9677537 171.7213006,6.9683625 171.7207856,6.9690074 171.7197548,6.9697823 171.7192669,6.9700692 171.7189713,6.9705108 171.717711400000013,6.9713232 171.716919600000011,6.9715912 171.7164043,6.9721075 171.7156312,6.9726243 171.711505100000011,6.9739195 171.7109898,6.9744358 171.709700700000013,6.9749533 171.709443,6.9752115 171.7078956,6.975601 171.706864599999989,6.9762464 171.7040929,6.976904 171.7019649,6.9778006 171.7011085,6.9784921 171.7006763,6.9787051 171.7006771,6.9792207 171.7001611,6.97935 171.6999035,6.9796082 171.6986144,6.9801257 171.6982275,6.9805133 171.697712599999988,6.9812874 171.6973164,6.9825853 171.6968637,6.9834759 171.697526900000014,6.9836083 171.6975337,6.9844912 171.6972326,6.985441 171.6969066,6.9862693 171.6961839,6.9876698 171.6951436,6.9887673 171.6943757,6.9897157 171.693756900000011,6.9901594 171.6926958,6.9907038 171.6913391,6.9911574 171.690476100000012,6.9913225 171.6885684,6.9912254 171.6871698,6.9909868 171.6858284,6.9908349 171.6841819,6.9909741 171.6824425,6.9908115 171.6801611,6.9908966 171.679279799999989,6.9911105 171.679029899999989,6.9913035 171.6787369,6.9915985 171.678507200000013,6.9920134 171.6779821,6.992245 171.6776044,6.9932292 171.6774787,6.9944643 171.6773843,6.9946936 171.6768897,6.9950997 171.676448,6.995497 171.6765785,6.9967858 171.6763209,6.997044 171.675421,6.9989782 171.6747765,6.9996242 171.67451890000001,6.9998822 171.6745195,7.0003978 171.673876,7.0010429 171.6732745,7.0013948 171.6724434,7.0021958 171.6714624,7.0026588 171.6705251,7.003497 171.6693046,7.0040617 171.6687206,7.0045309 171.6673031,7.005122 171.664044,7.0052743 171.66304550000001,7.0054407 171.6627875,7.0054411 171.6613888,7.0052301 171.6580309,7.0052944 171.653498,7.0049385 171.6522077,7.0046824 171.651019,7.0045466 171.6500963,7.0043633 171.64933640000001,7.0040137 171.648594,7.0036564 171.6478098,7.0032247 171.6470161,7.0028212 171.6462699,7.0022421 171.6456938,7.0017636 171.6453334,7.0013402 171.6446296,7.0005584 171.6442156,7.0000057 171.6441509,6.999555 171.6439431,6.9988939 171.6435529,6.9983508 171.6428052,6.9977713 171.641877,6.9976078 171.640845,6.9974798 171.6405868,6.9974802 171.6391193,6.9973301 171.6374875,6.9976114 171.634910600000012,6.997488 171.6346522,6.9972305 171.6331041,6.9972326 171.6318135,6.9969765 171.6304442,6.9966578 171.6297487,6.9964636 171.6289745,6.9962069 171.6279418,6.9956926 171.625359800000012,6.9944071 171.6246243,6.9941854 171.6240692,6.9938934 171.622739,6.9936138 171.6212626,6.9933435 171.6199399,6.9931253 171.618907799999988,6.9931268 171.618392199999988,6.9933851 171.6132321,6.9936497 171.611664499999989,6.9936444 171.6085889,6.9944292 171.6072996,6.9950758 171.6065262,6.995463 171.6054954,6.9964955 171.604721399999988,6.9966257 171.6029167,6.9976594 171.6016281,6.9988206 171.600855,6.9995949 171.5993073,6.9999841 171.5977604,7.0007595 171.5959552,7.0016635 171.5956976,7.0019217 171.595181599999989,7.0020517 171.5944088,7.0029546 171.593893400000013,7.0034708 171.592603700000012,7.0037303 171.5922166,7.0041179 171.5920887,7.0046337 171.591572899999989,7.0047628 171.59118620000001,7.0054082 171.590413399999989,7.0064403 171.5896404,7.0072147 171.5895124,7.0077304 171.588996400000013,7.007731 171.5888685,7.0090202 171.5886111,7.0095361 171.5879679,7.0106966 171.5869377,7.0121162 171.586423,7.0132765 171.5857787,7.0141799 171.584490100000011,7.0154706 171.5834611,7.0180498 171.5829462,7.0188238 171.582433,7.0211447 171.5821752,7.0214027 171.581405100000012,7.0244972 171.5805043,7.0260451 171.5801183,7.0273346 171.579860599999989,7.0275928 171.5793459,7.0286246 171.5778003,7.0306888 171.57728,7.0314628 171.57677,7.0322369 171.576255800000013,7.0337843 171.5757404,7.0343006 171.5749677,7.0355905 171.5744527,7.0363645 171.5744532,7.0368801 171.5738097,7.0377828 171.5731647,7.0381706 171.5724008,7.0407541 171.572238700000014,7.0413207 171.571649900000011,7.0425081 171.5714288,7.0431335 171.5709996,7.0434421 171.5701058,7.0442394 171.569688899999989,7.0442328 171.5690439,7.0446206 171.5689159,7.0451364 171.568695,7.0453631 171.5684674,7.0456487 171.56814270000001,7.0459107 171.5677503,7.0465865 171.5671117,7.0468137 171.5669823,7.0469432 171.5668382,7.0482167 171.566597699999988,7.0484906 171.5662721,7.0489282 171.5657108,7.049252 171.564541,7.0493509 171.5642766,7.0496529 171.563251,7.0502388 171.5624199,7.0512652 171.5618876,7.0515831 171.5607307,7.0524016 171.5599992,7.0527473 171.5592744,7.0532551 171.5585011,7.0537704 171.55746,7.0542094 171.556025,7.0546903 171.5552514,7.0550776 171.5535511,7.0557745 171.5528009,7.0562411 171.5520646,7.0569293 171.551641100000012,7.0572736 171.5509911,7.0578731 171.5505407,7.0580655 171.54978,7.0588985 171.548934300000013,7.0598547 171.5481349,7.0606815 171.5478263,7.0610793 171.5475171,7.0614032 171.5470851,7.0619888 171.5468641,7.0623839 171.546744499999988,7.0626931 171.5461017,7.0650141 171.5462327,7.0663029 171.5467492,7.0666884 171.547394700000012,7.0673327 171.5479114,7.0678477 171.5486869,7.068878 171.5488169,7.0693934 171.5498509,7.070939 171.5508853,7.0727423 171.5517906,7.0748037 171.5515332,7.0753195 171.551534,7.0760929 171.551792299999988,7.0763505 171.55231040000001,7.0778965 171.552568799999989,7.0781541 171.5536052,7.0817619 171.554122299999989,7.0825347 171.5547689,7.0833074 171.555236799999989,7.0848619 171.5558035,7.0849397 171.5561625,7.0846736 171.5563817,7.0845456 171.5564934,7.0841353 171.5563592,7.0837958 171.556152700000013,7.0834179 171.5561433,7.0828313 171.55554810000001,7.082262 171.55476680000001,7.0815028 171.5542584,7.0804801 171.554189900000011,7.0800631 171.553901599999989,7.0797341 171.55374710000001,7.0789371 171.5534544,7.0768635 171.5531957,7.0754251 171.5531244,7.0728051 171.5539924,7.0688129 171.5546343,7.0669659 171.555292400000013,7.0654855 171.5557001,7.0642293 171.556269500000013,7.062464 171.5574756,7.0595856 171.5584183,7.058321 171.5597369,7.0561569 171.5614429,7.0536527 171.5626883,7.0525736 171.563763200000011,7.0519738 171.5645372,7.0517151 171.5653103,7.0509407 171.5657326,7.0505964 171.5662364,7.0499395 171.5665988,7.0495217 171.5673995,7.0483447 171.5676259,7.0477158 171.5681748,7.0469693 171.568714,7.0464248 171.5694327,7.0456514 171.5696144,7.0453968 171.5699481,7.045135 171.571280300000012,7.0439856 171.5719804,7.0435396 171.5724544,7.0423249 171.5731331,7.0411384 171.5735482,7.0405484 171.5740705,7.0399742 171.5748429,7.0386841 171.5754867,7.03791 171.576002100000011,7.0373938 171.5765173,7.0366198 171.5770324,7.0358457 171.57741870000001,7.0348141 171.5783194,7.0332662 171.5789397,7.031717 171.5798662,7.0301118 171.5800736,7.0293618 171.580916,7.0282709 171.5814718,7.0269965 171.5818476,7.0266212 171.5820043,7.026008 171.5832106,7.0239795 171.5834683,7.0237213 171.5837249,7.0226898 171.585012299999988,7.0203681 171.5853981,7.0190786 171.5861698,7.017273 171.5869425,7.0159831 171.587328500000012,7.015467 171.589131400000014,7.0128867 171.5896458,7.0115972 171.5902898,7.0103075 171.590933299999989,7.0095331 171.5911907,7.0090173 171.5919637,7.0082428 171.5922208,7.0074692 171.5924786,7.0072111 171.5928647,7.0061793 171.5936381,7.0055335 171.5939966,7.0051116 171.594410900000014,7.0046306 171.5951844,7.0042424 171.596215300000011,7.0032101 171.5977615,7.0017907 171.5990512,7.0014018 171.5995668,7.0011434 171.601372,7.0003678 171.6026611,6.9995927 171.603176499999989,6.9990765 171.6047227,6.9976569 171.6065275,6.9966235 171.608332499999989,6.99559 171.6103956,6.9949423 171.6116853,6.9946828 171.6167485,6.9942013 171.62123170000001,6.9944126 171.6232963,6.9949255 171.6237787,6.99519 171.6248455,6.9956968 171.6256203,6.9962115 171.6289758,6.9972381 171.6301416,6.9975382 171.6341376,6.9982623 171.6349119,6.9985191 171.636202,6.9985173 171.6382154,6.9985203 171.6416208,6.9988971 171.6418352,6.9991638 171.642074799999989,6.9992828 171.6423957,6.9995401 171.642654,6.9997975 171.6431704,6.9999262 171.643626,7.0002482 171.6439455,7.0006985 171.6445658,7.0020509 171.645679800000011,7.0026942 171.646141300000011,7.0030156 171.646568800000011,7.0033467 171.6470852,7.0036585 171.64756220000001,7.0039155 171.6483556,7.0041628 171.6491111,7.004429 171.6516035,7.0050981 171.6527247,7.0054551 171.65478920000001,7.00571 171.6553056,7.0059671 171.656605,7.0058087 171.6583453,7.0061483 171.6605846,7.0058382 171.6620242,7.0061516 171.6635049,7.0060747 171.6641233,7.006258 171.6646395,7.0062572 171.6651551,7.0059989 171.6660786,7.0059873 171.6672836,7.0055448 171.6697077,7.004592 171.6707936,7.0040672 171.6712757,7.0040379 171.6723709,7.0032457 171.6727246,7.0030233 171.6734865,7.0024332 171.6740239,7.0019082 171.6752062,7.0006534 171.6756212,6.9999631 171.6761943,6.9992069 171.6771957,6.997871 171.6785174,6.996533 171.679273099999989,6.995722 171.6801005,6.994957 171.680832900000013,6.9944596 171.681309,6.9939698 171.681850700000012,6.9936374 171.6827329,6.9930376 171.6834213,6.9926678 171.684163399999989,6.9923643 171.6849743,6.9919942 171.6855013,6.9917453 171.6864474,6.991504 171.6871329,6.9916693 171.6883746,6.9916854 171.6891416,6.9920347 171.6899912,6.9920688 171.6917904,6.9915956 171.6932368,6.9912913 171.694179100000014,6.9906741 171.6947506,6.9901477 171.695405,6.9898065 171.6959349,6.9891431 171.6968204,6.9882493 171.6970943,6.9875478 171.6978504,6.9869588 171.698365599999988,6.9864424 171.6994044,6.9851359 171.6995533,6.9850972 171.6995004,6.9849183 171.6999925,6.9842594 171.7005355,6.9837682 171.7021092,6.982302 171.7030026,6.9815375 171.7036685,6.98067 171.7046671,6.9798675 171.706094400000012,6.9788255 171.707125600000012,6.9781799 171.708419,6.9770352 171.7091644,6.9765185 171.7101051,6.9760383 171.7109781,6.9754477 171.712280600000014,6.974821 171.714084899999989,6.973787 171.715631699999989,6.9730113 171.7174365,6.9722353 171.719240899999988,6.9712013 171.7210452,6.9701674 171.7223337,6.9691344 171.7243953,6.9675844 171.7254266,6.9671956 171.7261997,6.9665505 171.7280036,6.9652587 171.72979,6.9644543 171.7310215,6.9639824 171.7316041,6.9637426 171.73316,6.9629306 171.734154499999988,6.9625317 171.7349276,6.9621258 171.7361924,6.9614328 171.7369061,6.9610544 171.7378601,6.960694 171.7385739,6.9604729 171.7401209,6.9599548 171.7419262,6.9594364 171.7447436,6.9587949 171.749101599999989,6.958246 171.7513636,6.9582774 171.7535344,6.9586447 171.7545672,6.9591586 171.7550832,6.9591578 171.7555999,6.9596725 171.756116100000014,6.9601245 171.7566711,6.9611755 171.7568853,6.9621572 171.7567469,6.9631286 171.7570126,6.963615 171.7573183,6.9647222 171.7579553,6.964602";

function drawIsland(){
  // convert road coordinate strings into [ [lng1, lat1], [lng2, lat2], ... ] array of arrays
  road = road.split(" ");
  for(var pt=0;pt<road.length;pt++){
    road[pt] = road[pt].split(",");
  }
  
  // convert island coordinate strings into [ [lng1, lat1], [lng2, lat2], ... ] array of arrays
  island = island.split(" ");
  for(var pt=0;pt<island.length;pt++){
    island[pt] = island[pt].split(",");
  }
  
  // sum up road length, divide length up among 3000 canvas pixels, then draw coordinates down the middle
  var coordDistance = 0;
  for(var pt=0;pt<road.length-1;pt++){
    coordDistance += Math.sqrt( Math.pow((road[pt][1] - road[pt+1][1]), 2) + Math.pow((road[pt][0] - road[pt+1][0]), 2) );
  }
  //console.log("coord distance: " + coordDistance);
  
  // draw road as vertical centerline of points
  var centerline = 560;
  var canvas = document.getElementById("islandcanvas").getContext("2d");
  canvas.strokeStyle = "#00f";
  canvas.lineWidth = 3;
  var currentDistance = 0;
  for(var pt=0;pt<road.length-1;pt++){
    //canvas.rect(centerline-2, Math.floor(currentDistance / coordDistance * 3000) - 2, 4, 4 );
    //canvas.fill();
    // add the pixel y to this point's array [ lng, lat, pixels-down-road ]
    road[pt].push(Math.floor(currentDistance / coordDistance * 3000));
    currentDistance += Math.sqrt( Math.pow((road[pt][1] - road[pt+1][1]), 2) + Math.pow((road[pt][0] - road[pt+1][0]), 2) );
  }
  //canvas.moveTo(centerline, 0);
  //canvas.lineTo(centerline, 3000);
  //canvas.stroke();
  
  // draw island boundary
  canvas.fillStyle = "#99dd44";
  var leftPoints = [ ];
  var rightPoints = [ ];
  for(var pt=0;pt<island.length;pt++){
    // find two closest points on the road to this segment of the coastline
    var closePt1 = [ ];
    var closePt2 = [ ];
    var closePt1Dist = null;
    var closePt2Dist = null;
    for(var roadpt=0;roadpt<road.length;roadpt++){
      var thisPtDist = Math.sqrt( Math.pow((road[roadpt][1] - island[pt][1]), 2) + Math.pow((road[roadpt][0] - island[pt][0]), 2) );
      if(closePt1Dist === null){
        closePt1Dist = thisPtDist;
        closePt1 = road[roadpt];
      }
      else if((closePt2Dist === null) || (thisPtDist < closePt2Dist) ){
        if(thisPtDist < closePt1Dist){
          closePt2Dist = closePt1Dist;
          closePt2 = closePt1;
          closePt1Dist = thisPtDist;
          closePt1 = road[roadpt];
        }
        else{
          closePt2Dist = thisPtDist;
          closePt2 = road[roadpt];
        }
      }
    }
    
    // draw a triangle between the closest two points on the road and this point
    // draw a line from the coastline point to a midpoint on the road, dividing the big triangle into two right triangles
    // that line has the distance and direction of this point from the centerline
    // remember that JavaScript uses radians
    var base = Math.sqrt( Math.pow(closePt1[0] - closePt2[0], 2) + Math.pow(closePt1[1] - closePt2[1], 2) );
    var heronS = (closePt1Dist + closePt2Dist + base) / 2;
    var area = Math.sqrt( heronS * (heronS - closePt1Dist) * (heronS - closePt2Dist) * (heronS - base) );
    var height = area / base * 2;

    var xOffset, yOffset;

    if(closePt1[2] < closePt2[2]){
      yOffset = closePt1[2];
      yOffset += Math.sqrt( Math.pow(closePt1Dist, 2) - Math.pow(height, 2));
    }
    else{
      yOffset = closePt2[2];
      yOffset += Math.sqrt( Math.pow(closePt2Dist, 2) - Math.pow(height, 2));
    }

    /*if(closePt1[1] < island[pt][1]){
      xOffset = Math.round( height * 3000 / coordDistance * 7);
      leftPoints.push([ xOffset - 1, yOffset - 1 ]);
    }
    else{
      xOffset = Math.round( height * 3000 / coordDistance * -7)
      rightPoints.push([ xOffset - 1, yOffset - 1 ]);      
    }*/
    
    // calculate inner shore or outer shore, based on distance to central point
    var centerlat = 7.08;
    var centerlng = 171.6917;
    var roadDist = Math.sqrt( Math.pow( closePt1[1] - centerlat, 2) + Math.pow( closePt1[0] - centerlng, 2) );
    var shoreDist = Math.sqrt( Math.pow( island[pt][1] - centerlat, 2) + Math.pow( island[pt][0] - centerlng, 2) );
    if(shoreDist < roadDist){
      xOffset = Math.round( height * 3000 / coordDistance * 5);
      leftPoints.push([ xOffset - 1, yOffset - 1 ]);
    }
    else{
      xOffset = Math.round( height * 3000 / coordDistance * -5)
      rightPoints.push([ xOffset - 1, yOffset - 1 ]);
    }
    //canvas.rect(centerline + xOffset - 1, yOffset - 1, 2, 2);
    //canvas.fill();
  }
  
  // draw borders
  leftPoints.sort(function(a, b){
    return a[1] - b[1];
  });
  rightPoints.sort(function(a, b){
    return b[1] - a[1];
  });
  
  /*canvas.moveTo(centerline, 0);
  for(var i=0;i<leftPoints.length;i++){
    canvas.lineTo(centerline + leftPoints[i][0], leftPoints[i][1] + 5);
  }
  canvas.lineTo(centerline, 3000);
  for(var i=0;i<rightPoints.length;i++){
    canvas.lineTo(centerline + rightPoints[i][0], rightPoints[i][1] + 5);
  }  
  canvas.lineTo(centerline, 0);*/

  canvas.moveTo(centerline - 340, 3000);
  for(var i=0;i<leftPoints.length;i++){
    canvas.lineTo(centerline - 340 + leftPoints[i][0] / 5, 3000 - leftPoints[i][1] + 5);
  }
  for(var i=0;i<rightPoints.length;i++){
    canvas.lineTo(centerline - 340 + rightPoints[i][0] / 5, 3000 - rightPoints[i][1] + 5);
  }

  canvas.stroke();
  canvas.fill();
  //canvas.save();
  
  /*canvas.fillStyle = "#000";
  canvas.font = '40px Arial';
  canvas.fillText("Laura", 50, 50);
  canvas.fillText("Rita", 50, 2800);*/
  //canvas.fill();
}
    </script>
    <style type="text/css">
body{
  background-color: lightblue;
}
    </style>
  </head>
  <body onload="drawIsland();">
    <canvas id="islandcanvas" width="900" height="2970">
    </canvas>
  </body>
</html>